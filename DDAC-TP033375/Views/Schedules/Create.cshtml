@model DDAC_TP033375.Models.Schedule

@{
	ViewBag.Title = "Create Schedule";
}

<h2>Create Schedule</h2>

@using (Html.BeginForm("Save", "Schedules", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
	@Html.HiddenFor(s => s.Id)
	@Html.AntiForgeryToken()
	@Html.ValidationSummary("", new { @class = "text-danger" })
	<div class="form-group">
		@Html.LabelFor(s => s.Origin, new { @class = "col-md-2 control-label" })
		<div class="col-md-10">
			@Html.TextBoxFor(s => s.Origin, new { @class = "form-control" })
		</div>
	</div>
	<div class="form-group">
		@Html.LabelFor(s => s.Destination, new { @class = "col-md-2 control-label" })
		<div class="col-md-10">
			@Html.TextBoxFor(s => s.Destination, new { @class = "form-control" })
		</div>
	</div>
	<div class="form-group">
		@Html.LabelFor(s => s.DepartureTime, new { @class = "col-md-2 control-label" })
		<div class="col-md-10">
			@Html.TextBoxFor(s => s.DepartureTime, "{MM/dd/yyyy h:mm tt}", new { id = "departureTimePicker", @class = "form-control" })
		</div>
	</div>
	<div class="form-group">
		@Html.LabelFor(s => s.ArrivalTime, new { @class = "col-md-2 control-label" })
		<div class="col-md-10">
			@Html.TextBoxFor(s => s.ArrivalTime, "{MM/dd/yyyy h:mm tt}", new { id = "arrivalTimePicker", @class = "form-control" })
		</div>
	</div>
	<div class="form-group">
		<div class="col-md-offset-2 col-md-10">
			<input type="submit" class="btn btn-default" value="Register" />
		</div>
	</div>
}

@section Scripts {
	@Scripts.Render("~/bundles/jqueryval")

	<script>
		$(function () {
			$("#departureTimePicker").datetimepicker({
				minDate: new Date()
				//format: "DD/MM/YYYY h:mm A"
			});
			$('#arrivalTimePicker').datetimepicker({
				useCurrent: false //Important! See issue #1075
				//format: "DD/MM/YYYY h:mm A"
			});
			$("#departureTimePicker").on("dp.change", function (e) {
				$('#arrivalTimePicker').data("DateTimePicker").minDate(e.date);
			});
			$("#arrivalTimePicker").on("dp.change", function (e) {
				$('#departureTimePicker').data("DateTimePicker").maxDate(e.date);
			});
		});
	</script>
}
